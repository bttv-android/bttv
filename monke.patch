diff --git a/AndroidManifest.xml b/AndroidManifest.xml
index ce6452f57..a8bc7afa2 100644
--- a/AndroidManifest.xml
+++ b/AndroidManifest.xml
@@ -1,4 +1,15 @@
-<?xml version="1.0" encoding="utf-8" standalone="no"?><manifest xmlns:android="http://schemas.android.com/apk/res/android" android:compileSdkVersion="29" android:compileSdkVersionCodename="10" android:installLocation="auto" package="tv.twitch.android.app" platformBuildVersionCode="29" platformBuildVersionName="10">
+<?xml version="1.0" encoding="utf-8" standalone="no"?>
+<manifest
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:versionCode="01106001301"
+    android:versionName="0.13.1-beta"
+    android:compileSdkVersion="29"
+    android:compileSdkVersionCodename="10"
+    android:installLocation="auto"
+    package="tv.twitch.bttvandroid.app"
+    platformBuildVersionCode="29"
+    platformBuildVersionName="10">
+
     <uses-feature android:name="android.hardware.type.pc" android:required="false"/>
     <uses-feature android:name="android.hardware.touchscreen" android:required="false"/>
     <uses-permission android:name="android.permission.CAMERA"/>
@@ -7,6 +18,7 @@
     <uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>
     <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
     <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW"/>
+    <uses-permission android:name="android.permission.REQUEST_INSTALL_PACKAGES"/>
     <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" android:required="false"/>
     <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" android:required="false"/>
     <uses-feature android:name="android.hardware.camera" android:required="false"/>
@@ -122,10 +134,10 @@
             </intent-filter>
         </receiver>
         <service android:name="tv.twitch.android.shared.app.indexing.AppIndexingUpdateService" android:permission="android.permission.BIND_JOB_SERVICE"/>
-        <provider android:authorities="tv.twitch.android.app.provider" android:exported="false" android:grantUriPermissions="true" android:name="androidx.core.content.FileProvider">
+        <provider android:authorities="tv.twitch.bttvandroid.app.provider" android:exported="false" android:grantUriPermissions="true" android:name="androidx.core.content.FileProvider">
             <meta-data android:name="android.support.FILE_PROVIDER_PATHS" android:resource="@xml/file_paths"/>
         </provider>
-        <provider android:authorities="com.amazon.identity.auth.device.MapInfoProvider.tv.twitch.android.app" android:exported="true" android:name="tv.twitch.android.shared.map.sdk.MAPInfoProviderImpl" android:permission="com.amazon.identity.permission.CAN_CALL_MAP_INFORMATION_PROVIDER"/>
+        <provider android:authorities="com.amazon.identity.auth.device.MapInfoProvider.tv.twitch.bttvandroid.app" android:exported="true" android:name="tv.twitch.android.shared.map.sdk.MAPInfoProviderImpl" android:permission="com.amazon.identity.permission.CAN_CALL_MAP_INFORMATION_PROVIDER"/>
         <meta-data android:name="io.branch.sdk.BranchKey" android:value="key_live_jgBdao5vVtyZ3hdckxy8jlkkzqooQltZ"/>
         <meta-data android:name="io.branch.sdk.BranchKey.test" android:value="key_test_ahupan1EKvF7XkpepyA3vpfivrdlOlMg"/>
         <meta-data android:name="io.branch.sdk.TestMode" android:value="false"/>
@@ -225,11 +237,11 @@
             </intent-filter>
         </receiver>
         <activity android:exported="false" android:name="com.google.android.gms.common.api.GoogleApiActivity" android:theme="@android:style/Theme.Translucent.NoTitleBar"/>
-        <provider android:authorities="tv.twitch.android.app.firebaseinitprovider" android:directBootAware="true" android:exported="false" android:initOrder="100" android:name="com.google.firebase.provider.FirebaseInitProvider"/>
+        <provider android:authorities="tv.twitch.bttvandroid.app.firebaseinitprovider" android:directBootAware="true" android:exported="false" android:initOrder="100" android:name="com.google.firebase.provider.FirebaseInitProvider"/>
         <receiver android:enabled="true" android:exported="false" android:name="com.google.android.gms.measurement.AppMeasurementReceiver"/>
         <service android:enabled="true" android:exported="false" android:name="com.google.android.gms.measurement.AppMeasurementService"/>
         <service android:enabled="true" android:exported="false" android:name="com.google.android.gms.measurement.AppMeasurementJobService" android:permission="android.permission.BIND_JOB_SERVICE"/>
-        <provider android:authorities="tv.twitch.android.app.mobileadsinitprovider" android:exported="false" android:initOrder="100" android:name="com.google.android.gms.ads.MobileAdsInitProvider"/>
+        <provider android:authorities="tv.twitch.bttvandroid.app.mobileadsinitprovider" android:exported="false" android:initOrder="100" android:name="com.google.android.gms.ads.MobileAdsInitProvider"/>
         <service android:enabled="true" android:exported="false" android:name="com.google.android.gms.ads.AdService"/>
         <meta-data android:name="com.google.android.gms.version" android:value="@integer/google_play_services_version"/>
         <service android:exported="false" android:name="com.google.android.datatransport.runtime.backends.TransportBackendDiscovery">
@@ -279,5 +291,18 @@
         <service android:exported="false" android:name="com.amazon.avod.identity.AVODMAPBroadcastProcessingJobService" android:permission="android.permission.BIND_JOB_SERVICE"/>
         <meta-data android:name="com.amazon.client.metrics.nexus.RunContext" android:value="com.amazon.avod.metrics.nexus.NexusRunContext"/>
         <meta-data android:name="com.amazon.client.metrics.nexus.EndpointTypeProvider" android:value="com.amazon.avod.metrics.nexus.NexusEndpointTypeProvider"/>
+        <activity android:name="bttv.updater.UpdaterActivity" />
+        <provider
+            android:name="androidx.core.content.FileProvider"
+            android:authorities="tv.twitch.bttvandroid.app.provider"
+            android:exported="false"
+            android:grantUriPermissions="true" >
+            <meta-data android:name="android.support.FILE_PROVIDER_PATHS" android:resource="@xml/provider_paths"></meta-data>
+        </provider>
+        <service
+            android:name="bttv.updater.UpdaterJobService"
+            android:label="Periodically checks for updates"
+            android:permission="android.permission.BIND_JOB_SERVICE"
+        />
     </application>
-</manifest>
\ No newline at end of file
+</manifest>
diff --git a/res/drawable-v23/background_splash.xml b/res/drawable-v23/background_splash.xml
index 80b85907f..bb48b5a86 100644
--- a/res/drawable-v23/background_splash.xml
+++ b/res/drawable-v23/background_splash.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 <layer-list
   xmlns:android="http://schemas.android.com/apk/res/android">
-    <item android:drawable="@color/twitch_purple" />
+    <item android:drawable="@color/bttv_mega" />
     <item android:gravity="center" android:drawable="@drawable/ic_twitch_glitch_uv" />
 </layer-list>
\ No newline at end of file
diff --git a/res/drawable/background_splash.xml b/res/drawable/background_splash.xml
index a18ffe84b..e50fa67bb 100644
--- a/res/drawable/background_splash.xml
+++ b/res/drawable/background_splash.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <layer-list
   xmlns:android="http://schemas.android.com/apk/res/android">
-    <item android:drawable="@color/twitch_purple" />
+    <item android:drawable="@color/bttv_mega" />
     <item>
         <bitmap android:gravity="center" android:src="@drawable/ic_twitch_glitch_uv_api_21" />
     </item>
diff --git a/res/layout-v22/bottom_player_control_overlay_widget.xml b/res/layout-v22/bottom_player_control_overlay_widget.xml
index db4d69d0d..e29100ddb 100644
--- a/res/layout-v22/bottom_player_control_overlay_widget.xml
+++ b/res/layout-v22/bottom_player_control_overlay_widget.xml
@@ -10,6 +10,18 @@
         <androidx.appcompat.widget.SwitchCompat android:layout_gravity="center_vertical" android:id="@id/toggle_audio_only" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginRight="@dimen/default_margin" app:theme="@style/SettingsSwitch" />
         <ImageView android:id="@id/video_debug_info_button" android:background="?selectableItemBackgroundBorderless" android:padding="@dimen/default_margin" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="@dimen/default_margin" android:src="@drawable/ic_info" android:scaleType="fitCenter" app:tint="@color/white" />
         <ImageView android:id="@id/fullscreen_button" android:background="?selectableItemBackgroundBorderless" android:padding="@dimen/default_margin" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="@dimen/default_margin" android:src="@drawable/ic_fullscreen_enter" android:scaleType="fitCenter" android:contentDescription="@string/fullscreen_talkback" app:tint="@color/white" />
+        <ImageView
+            android:id="@id/bttv_sleep_timer_button"
+            android:background="?selectableItemBackgroundBorderless"
+            android:padding="@dimen/default_margin"
+            android:visibility="gone"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginLeft="@dimen/default_margin"
+            android:src="@drawable/bttv_ic_bedtime"
+            android:scaleType="fitCenter"
+            android:contentDescription="@string/bttv_sleep_timer_button_descr"
+            app:tint="@color/white" />
         <ImageView android:id="@id/show_chat_overlay_button" android:background="?selectableItemBackgroundBorderless" android:padding="@dimen/default_margin" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="@dimen/default_margin" android:src="@drawable/show_chat_selector" android:contentDescription="@string/show_chat" app:tint="@color/white" />
         <ImageView android:id="@id/write_message_button" android:background="?selectableItemBackgroundBorderless" android:padding="@dimen/default_margin" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="@dimen/default_margin" android:layout_marginRight="@dimen/default_margin" android:src="@drawable/ic_compose" android:contentDescription="@string/write_message_talkback" android:layout_marginHorizontal="@dimen/default_margin" app:tint="@color/white" />
         <ImageView android:id="@id/chat_settings_button" android:background="?selectableItemBackgroundBorderless" android:padding="@dimen/default_margin" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="@dimen/default_margin" android:layout_marginRight="@dimen/default_margin" android:src="@drawable/ic_chat_display_setting" android:contentDescription="@string/chat_settings_talkback" android:layout_marginHorizontal="@dimen/default_margin" app:tint="@color/white" />
diff --git a/res/layout/bottom_player_control_overlay_widget.xml b/res/layout/bottom_player_control_overlay_widget.xml
index f2b85353e..92d0ebd81 100644
--- a/res/layout/bottom_player_control_overlay_widget.xml
+++ b/res/layout/bottom_player_control_overlay_widget.xml
@@ -10,6 +10,18 @@
         <androidx.appcompat.widget.SwitchCompat android:layout_gravity="center_vertical" android:id="@id/toggle_audio_only" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginRight="@dimen/default_margin" app:theme="@style/SettingsSwitch" />
         <ImageView android:id="@id/video_debug_info_button" android:background="?selectableItemBackgroundBorderless" android:padding="@dimen/default_margin" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="@dimen/default_margin" android:src="@drawable/ic_info" android:scaleType="fitCenter" app:tint="@color/white" />
         <ImageView android:id="@id/fullscreen_button" android:background="?selectableItemBackgroundBorderless" android:padding="@dimen/default_margin" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="@dimen/default_margin" android:src="@drawable/ic_fullscreen_enter" android:scaleType="fitCenter" android:contentDescription="@string/fullscreen_talkback" app:tint="@color/white" />
+        <ImageView
+            android:id="@id/bttv_sleep_timer_button"
+            android:background="?selectableItemBackgroundBorderless"
+            android:padding="@dimen/default_margin"
+            android:visibility="gone"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginLeft="@dimen/default_margin"
+            android:src="@drawable/bttv_ic_bedtime"
+            android:scaleType="fitCenter"
+            android:contentDescription="@string/bttv_sleep_timer_button_descr"
+            app:tint="@color/white" />
         <ImageView android:id="@id/show_chat_overlay_button" android:background="?selectableItemBackgroundBorderless" android:padding="@dimen/default_margin" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="@dimen/default_margin" android:src="@drawable/show_chat_selector" android:contentDescription="@string/show_chat" app:tint="@color/white" />
         <ImageView android:id="@id/write_message_button" android:background="?selectableItemBackgroundBorderless" android:padding="@dimen/default_margin" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="@dimen/default_margin" android:layout_marginRight="@dimen/default_margin" android:src="@drawable/ic_compose" android:contentDescription="@string/write_message_talkback" app:tint="@color/white" />
         <ImageView android:id="@id/chat_settings_button" android:background="?selectableItemBackgroundBorderless" android:padding="@dimen/default_margin" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="@dimen/default_margin" android:layout_marginRight="@dimen/default_margin" android:src="@drawable/ic_chat_display_setting" android:contentDescription="@string/chat_settings_talkback" app:tint="@color/white" />
diff --git a/res/layout/settings_logout_footer.xml b/res/layout/settings_logout_footer.xml
index e5846b005..aae416862 100644
--- a/res/layout/settings_logout_footer.xml
+++ b/res/layout/settings_logout_footer.xml
@@ -2,6 +2,7 @@
 <LinearLayout android:orientation="vertical" android:id="@id/settings_logout_footer" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_alignParentBottom="true"
   xmlns:android="http://schemas.android.com/apk/res/android">
     <ImageView android:layout_gravity="center_horizontal" android:id="@id/app_settings_icon" android:padding="@dimen/default_margin" android:layout_width="@dimen/settings_footer_logo_size" android:layout_height="@dimen/settings_footer_logo_size" android:src="@drawable/ic_twitch_glitch_uv" />
+    <TextView android:textColor="@color/text_alt" android:gravity="center" android:layout_width="fill_parent" android:layout_height="wrap_content" android:text="BTTV v0.13.1" />
     <TextView android:textColor="@color/text_alt" android:gravity="center" android:id="@id/app_settings_version" android:layout_width="fill_parent" android:layout_height="wrap_content" android:text="@string/version_label" />
     <TextView android:textColor="@color/text_alt" android:gravity="center" android:id="@id/app_settings_build_date" android:layout_width="fill_parent" android:layout_height="wrap_content" />
     <FrameLayout android:id="@id/app_settings_logout_button" android:background="@drawable/settings_logout_button" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_margin="@dimen/default_margin">
diff --git a/res/mipmap-anydpi-v26/ic_launcher.xml b/res/mipmap-anydpi-v26/ic_launcher.xml
index 3b06a9d16..202eb42e8 100644
--- a/res/mipmap-anydpi-v26/ic_launcher.xml
+++ b/res/mipmap-anydpi-v26/ic_launcher.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 <adaptive-icon
   xmlns:android="http://schemas.android.com/apk/res/android">
-    <background android:drawable="@color/twitch_purple" />
+    <background android:drawable="@color/bttv_mega" />
     <foreground android:drawable="@mipmap/ic_launcher_foreground" />
 </adaptive-icon>
\ No newline at end of file
diff --git a/res/values/colors.xml b/res/values/colors.xml
index 6aa15b3a2..dda11a886 100644
--- a/res/values/colors.xml
+++ b/res/values/colors.xml
@@ -522,4 +522,6 @@
     <color name="yellow_8">#ff60600b</color>
     <color name="yellow_9">#ff7a7a00</color>
     <color name="youtube">#ffcd201f</color>
+    <color name="bttv_mega">#ff00fafa</color>
+    <color name="bttv_sonic">#ff0014a5</color>
 </resources>
diff --git a/res/values/ids.xml b/res/values/ids.xml
index 631798340..24787f135 100644
--- a/res/values/ids.xml
+++ b/res/values/ids.xml
@@ -3170,4 +3170,8 @@
     <item type="id" name="year_published" />
     <item type="id" name="you_were_watching" />
     <item type="id" name="zero_corner_chip" />
+    <item type="id" name="bttv_updater_activity_title" />
+    <item type="id" name="bttv_updater_activity_body" />
+    <item type="id" name="bttv_updater_activity_pb" />
+    <item type="id" name="bttv_sleep_timer_button" />
 </resources>
diff --git a/res/values/public.xml b/res/values/public.xml
index 3569c1ed5..94de38dca 100644
--- a/res/values/public.xml
+++ b/res/values/public.xml
@@ -13041,4 +13041,56 @@
     <public type="xml" name="standalone_badge_offset" id="0x7f160007" />
     <public type="xml" name="syncadapter" id="0x7f160008" />
     <public type="xml" name="splits0" id="0x7f160009" />
+    <!-- BTTV -->
+    <!-- generate ids using `build-companion ids <path/to/this/file>` -->
+    <!-- spacing must be exact, so just c&p a line and change name and type -->
+    <public type="id" name="bttv_updater_activity_title" id="0x7f0b0d7e" />
+    <public type="id" name="bttv_updater_activity_body" id="0x7f0b0d7f" />
+    <public type="id" name="bttv_updater_activity_pb" id="0x7f0b0d80" />
+    <public type="id" name="bttv_sleep_timer_button" id="0x7f0b0d81" />
+    <public type="id" name="bttv_highlight_dia_list" id="0x7f0b0d82" />
+    <public type="id" name="bttv_highlight_dia_input" id="0x7f0b0d83" />
+    <public type="id" name="bttv_highlight_dia_title" id="0x7f0b0d84" />
+    <public type="id" name="bttv_highlight_dia_list_text" id="0x7f0b0d85" />
+    <public type="id" name="bttv_highlight_dia_list_btn" id="0x7f0b0d86" />
+    <public type="id" name="bttv_credits_into_tv" id="0x7f0b0d87" />
+    <public type="layout" name="bttv_highlight_dialog" id="0x7f0e032a" />
+    <public type="layout" name="bttv_highlight_list_view" id="0x7f0e032b" />
+    <public type="layout" name="bttv_updater_activity" id="0x7f0e032c" />
+    <public type="layout" name="bttv_credits_dialog" id="0x7f0e032d" />
+    <public type="color" name="bttv_mega" id="0x7f06027c" />
+    <public type="color" name="bttv_sonic" id="0x7f06027d" />
+    <public type="string" name="bttv_app_update_available_cta" id="0x7f130d9e" />
+    <public type="string" name="bttv_app_update_available" id="0x7f130d9f" />
+    <public type="string" name="bttv_emote_picker_global_bttv" id="0x7f130da0" />
+    <public type="string" name="bttv_emote_picker_channel_bttv" id="0x7f130da1" />
+    <public type="string" name="bttv_emote_picker_global_ffz" id="0x7f130da2" />
+    <public type="string" name="bttv_emote_picker_channel_ffz" id="0x7f130da3" />
+    <public type="string" name="bttv_emote_picker_global_7tv" id="0x7f130da4" />
+    <public type="string" name="bttv_emote_picker_channel_7tv" id="0x7f130da5" />
+    <public type="string" name="bttv_sleep_timer_button_descr" id="0x7f130da6" />
+    <public type="string" name="bttv_sleep_timer_select_dialog_title" id="0x7f130da7" />
+    <public type="string" name="bttv_sleep_timer_cancel_dialog_title" id="0x7f130da8" />
+    <public type="string" name="bttv_sleep_timer_cancel_dialog_message" id="0x7f130da9" />
+    <public type="string" name="bttv_emote_added_by_bttv" id="0x7f130daa" />
+    <public type="string" name="bttv_updater_downloading" id="0x7f130dab" />
+    <public type="string" name="bttv_updater_downloading_version" id="0x7f130dac" />
+    <public type="string" name="bttv_updater_notice" id="0x7f130dad" />
+    <public type="string" name="bttv_settings_open_highlights_dia_primary" id="0x7f130dae" />
+    <public type="string" name="bttv_settings_open_highlights_dia_secondary" id="0x7f130daf" />
+    <public type="string" name="bttv_settings_highlights_dia_input_hint" id="0x7f130db0" />
+    <public type="string" name="bttv_settings_highlights_dia_title" id="0x7f130db1" />
+    <public type="string" name="bttv_settings_gif_render_mode_title" id="0x7f130db2" />
+    <public type="string" name="bttv_settings_gif_render_mode_animate" id="0x7f130db3" />
+    <public type="string" name="bttv_settings_gif_render_mode_static" id="0x7f130db4" />
+    <public type="string" name="bttv_settings_gif_render_mode_disabled" id="0x7f130db5" />
+    <public type="string" name="bttv_settings_open_credits_button_title" id="0x7f130db6" />
+    <public type="string" name="bttv_settings_enable_show_deleted_messages" id="0x7f130db7" />
+    <public type="string" name="bttv_credits_title" id="0x7f130db8" />
+    <public type="string" name="bttv_credits_intro" id="0x7f130db9" />
+    <public type="string" name="bttv_credits_bugs" id="0x7f130dba" />
+    <public type="string" name="bttv_credits_ideas" id="0x7f130dbb" />
+    <public type="string" name="bttv_credits_translations" id="0x7f130dbc" />
+    <public type="drawable" name="bttv_ic_bedtime" id="0x7f080529" />
+    <!-- /BTTV -->
 </resources>
\ No newline at end of file
diff --git a/smali_classes3/com/bumptech/glide/GeneratedAppGlideModuleImpl.smali b/smali_classes3/com/bumptech/glide/GeneratedAppGlideModuleImpl.smali
index 41fd2e870..f283b65e6 100644
--- a/smali_classes3/com/bumptech/glide/GeneratedAppGlideModuleImpl.smali
+++ b/smali_classes3/com/bumptech/glide/GeneratedAppGlideModuleImpl.smali
@@ -110,6 +110,10 @@
 
     invoke-virtual {v0, p1, p2, p3}, Lcom/bumptech/glide/integration/okhttp3/OkHttpLibraryGlideModule;->registerComponents(Landroid/content/Context;Lcom/bumptech/glide/Glide;Lcom/bumptech/glide/Registry;)V
 
+    # BTTV
+    invoke-static {p1, p2, p3}, Lbttv/api/Webp;->registerWebpDecoder(Landroid/content/Context;Lcom/bumptech/glide/Glide;Lcom/bumptech/glide/Registry;)V
+    # /BTTV
+
     .line 35
     iget-object v0, p0, Lcom/bumptech/glide/GeneratedAppGlideModuleImpl;->appGlideModule:Ltv/twitch/android/shared/ui/elements/image/TwitchGlideModule;
 
diff --git a/smali_classes3/com/bumptech/glide/Registry.smali b/smali_classes3/com/bumptech/glide/Registry.smali
index 22f5cf244..5e58bea3c 100644
--- a/smali_classes3/com/bumptech/glide/Registry.smali
+++ b/smali_classes3/com/bumptech/glide/Registry.smali
@@ -265,6 +265,93 @@
     return-object v0
 .end method
 
+# BTTV
+
+.field public static final BUCKET_BITMAP:Ljava/lang/String; = "Bitmap"
+
+.field public static final BUCKET_BITMAP_DRAWABLE:Ljava/lang/String; = "BitmapDrawable"
+
+.field public static final BUCKET_GIF:Ljava/lang/String; = "Gif"
+
+
+.method public prepend(Ljava/lang/Class;Lcom/bumptech/glide/load/ResourceEncoder;)Lcom/bumptech/glide/Registry;
+    .locals 1
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "<TResource:",
+            "Ljava/lang/Object;",
+            ">(",
+            "Ljava/lang/Class<",
+            "TTResource;>;",
+            "Lcom/bumptech/glide/load/ResourceEncoder<",
+            "TTResource;>;)",
+            "Lcom/bumptech/glide/Registry;"
+        }
+    .end annotation
+
+    .line 335
+    iget-object v0, p0, Lcom/bumptech/glide/Registry;->resourceEncoderRegistry:Lcom/bumptech/glide/provider/ResourceEncoderRegistry;
+
+    invoke-virtual {v0, p1, p2}, Lcom/bumptech/glide/provider/ResourceEncoderRegistry;->prepend(Ljava/lang/Class;Lcom/bumptech/glide/load/ResourceEncoder;)V
+
+    return-object p0
+.end method
+
+.method public prepend(Ljava/lang/Class;Ljava/lang/Class;Lcom/bumptech/glide/load/ResourceDecoder;)Lcom/bumptech/glide/Registry;
+    .locals 1
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "<Data:",
+            "Ljava/lang/Object;",
+            "TResource:",
+            "Ljava/lang/Object;",
+            ">(",
+            "Ljava/lang/Class<",
+            "TData;>;",
+            "Ljava/lang/Class<",
+            "TTResource;>;",
+            "Lcom/bumptech/glide/load/ResourceDecoder<",
+            "TData;TTResource;>;)",
+            "Lcom/bumptech/glide/Registry;"
+        }
+    .end annotation
+
+    const-string v0, "legacy_prepend_all"
+
+    .line 210
+    invoke-virtual {p0, v0, p1, p2, p3}, Lcom/bumptech/glide/Registry;->prepend(Ljava/lang/String;Ljava/lang/Class;Ljava/lang/Class;Lcom/bumptech/glide/load/ResourceDecoder;)Lcom/bumptech/glide/Registry;
+
+    return-object p0
+.end method
+
+.method public prepend(Ljava/lang/String;Ljava/lang/Class;Ljava/lang/Class;Lcom/bumptech/glide/load/ResourceDecoder;)Lcom/bumptech/glide/Registry;
+    .locals 1
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "<Data:",
+            "Ljava/lang/Object;",
+            "TResource:",
+            "Ljava/lang/Object;",
+            ">(",
+            "Ljava/lang/String;",
+            "Ljava/lang/Class<",
+            "TData;>;",
+            "Ljava/lang/Class<",
+            "TTResource;>;",
+            "Lcom/bumptech/glide/load/ResourceDecoder<",
+            "TData;TTResource;>;)",
+            "Lcom/bumptech/glide/Registry;"
+        }
+    .end annotation
+
+    .line 240
+    iget-object v0, p0, Lcom/bumptech/glide/Registry;->decoderRegistry:Lcom/bumptech/glide/provider/ResourceDecoderRegistry;
+
+    invoke-virtual {v0, p1, p4, p2, p3}, Lcom/bumptech/glide/provider/ResourceDecoderRegistry;->prepend(Ljava/lang/String;Lcom/bumptech/glide/load/ResourceDecoder;Ljava/lang/Class;Ljava/lang/Class;)V
+
+    return-object p0
+.end method
+# /BTTV
 
 # virtual methods
 .method public append(Ljava/lang/Class;Lcom/bumptech/glide/load/Encoder;)Lcom/bumptech/glide/Registry;
diff --git a/smali_classes3/com/bumptech/glide/load/resource/bitmap/DrawableToBitmapConverter.smali b/smali_classes3/com/bumptech/glide/load/resource/bitmap/DrawableToBitmapConverter.smali
index cc114db8a..6119e950a 100644
--- a/smali_classes3/com/bumptech/glide/load/resource/bitmap/DrawableToBitmapConverter.smali
+++ b/smali_classes3/com/bumptech/glide/load/resource/bitmap/DrawableToBitmapConverter.smali
@@ -81,7 +81,10 @@
     goto :goto_0
 
     :cond_1
-    const/4 p1, 0x0
+    # BTTV
+    invoke-static {p1}, Lbttv/api/Glide;->getFirstFrame(Landroid/graphics/drawable/Drawable;)Landroid/graphics/Bitmap;
+    move-result-object p1
+    # /BTTV
 
     :goto_0
     if-eqz v1, :cond_2
diff --git a/smali_classes3/com/bumptech/glide/provider/ResourceDecoderRegistry.smali b/smali_classes3/com/bumptech/glide/provider/ResourceDecoderRegistry.smali
index 621f5eb49..99f843cfa 100644
--- a/smali_classes3/com/bumptech/glide/provider/ResourceDecoderRegistry.smali
+++ b/smali_classes3/com/bumptech/glide/provider/ResourceDecoderRegistry.smali
@@ -127,6 +127,57 @@
     throw p1
 .end method
 
+# BTTV
+.method public declared-synchronized prepend(Ljava/lang/String;Lcom/bumptech/glide/load/ResourceDecoder;Ljava/lang/Class;Ljava/lang/Class;)V
+    .locals 2
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "<T:",
+            "Ljava/lang/Object;",
+            "R:",
+            "Ljava/lang/Object;",
+            ">(",
+            "Ljava/lang/String;",
+            "Lcom/bumptech/glide/load/ResourceDecoder<",
+            "TT;TR;>;",
+            "Ljava/lang/Class<",
+            "TT;>;",
+            "Ljava/lang/Class<",
+            "TR;>;)V"
+        }
+    .end annotation
+
+    monitor-enter p0
+
+    .line 91
+    :try_start_0
+    invoke-direct {p0, p1}, Lcom/bumptech/glide/provider/ResourceDecoderRegistry;->getOrAddEntryList(Ljava/lang/String;)Ljava/util/List;
+
+    move-result-object p1
+
+    const/4 v0, 0x0
+
+    new-instance v1, Lcom/bumptech/glide/provider/ResourceDecoderRegistry$Entry;
+
+    invoke-direct {v1, p3, p4, p2}, Lcom/bumptech/glide/provider/ResourceDecoderRegistry$Entry;-><init>(Ljava/lang/Class;Ljava/lang/Class;Lcom/bumptech/glide/load/ResourceDecoder;)V
+
+    invoke-interface {p1, v0, v1}, Ljava/util/List;->add(ILjava/lang/Object;)V
+    :try_end_0
+    .catchall {:try_start_0 .. :try_end_0} :catchall_0
+
+    .line 92
+    monitor-exit p0
+
+    return-void
+
+    :catchall_0
+    move-exception p1
+
+    monitor-exit p0
+
+    throw p1
+.end method
+# /BTTV
 
 # virtual methods
 .method public declared-synchronized append(Ljava/lang/String;Lcom/bumptech/glide/load/ResourceDecoder;Ljava/lang/Class;Ljava/lang/Class;)V
diff --git a/smali_classes3/com/bumptech/glide/provider/ResourceEncoderRegistry.smali b/smali_classes3/com/bumptech/glide/provider/ResourceEncoderRegistry.smali
index f0a19db4f..eacd0c1b9 100644
--- a/smali_classes3/com/bumptech/glide/provider/ResourceEncoderRegistry.smali
+++ b/smali_classes3/com/bumptech/glide/provider/ResourceEncoderRegistry.smali
@@ -40,6 +40,50 @@
     return-void
 .end method
 
+# BTTV
+.method public declared-synchronized prepend(Ljava/lang/Class;Lcom/bumptech/glide/load/ResourceEncoder;)V
+    .locals 3
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "<Z:",
+            "Ljava/lang/Object;",
+            ">(",
+            "Ljava/lang/Class<",
+            "TZ;>;",
+            "Lcom/bumptech/glide/load/ResourceEncoder<",
+            "TZ;>;)V"
+        }
+    .end annotation
+
+    monitor-enter p0
+
+    .line 25
+    :try_start_0
+    iget-object v0, p0, Lcom/bumptech/glide/provider/ResourceEncoderRegistry;->encoders:Ljava/util/List;
+
+    const/4 v1, 0x0
+
+    new-instance v2, Lcom/bumptech/glide/provider/ResourceEncoderRegistry$Entry;
+
+    invoke-direct {v2, p1, p2}, Lcom/bumptech/glide/provider/ResourceEncoderRegistry$Entry;-><init>(Ljava/lang/Class;Lcom/bumptech/glide/load/ResourceEncoder;)V
+
+    invoke-interface {v0, v1, v2}, Ljava/util/List;->add(ILjava/lang/Object;)V
+    :try_end_0
+    .catchall {:try_start_0 .. :try_end_0} :catchall_0
+
+    .line 26
+    monitor-exit p0
+
+    return-void
+
+    :catchall_0
+    move-exception p1
+
+    monitor-exit p0
+
+    throw p1
+.end method
+# /BTTV
 
 # virtual methods
 .method public declared-synchronized append(Ljava/lang/Class;Lcom/bumptech/glide/load/ResourceEncoder;)V
diff --git a/smali_classes4/tv/twitch/android/shared/ui/elements/GlideHelper$generateGlideRequestListener$1.smali b/smali_classes4/tv/twitch/android/shared/ui/elements/GlideHelper$generateGlideRequestListener$1.smali
index 4807202e6..41f3b6da0 100644
--- a/smali_classes4/tv/twitch/android/shared/ui/elements/GlideHelper$generateGlideRequestListener$1.smali
+++ b/smali_classes4/tv/twitch/android/shared/ui/elements/GlideHelper$generateGlideRequestListener$1.smali
@@ -81,6 +81,16 @@
         }
     .end annotation
 
+    # BTTV
+    #  starts animation when WebpDrawable
+    #     expects:
+    #       p1: android.graphics.drawable.Drawable
+    #       p0: this
+    #
+    iget-object p2, p0, Ltv/twitch/android/shared/ui/elements/GlideHelper$generateGlideRequestListener$1;->$drawableCallback:Ltv/twitch/android/shared/ui/elements/GlideHelper$generateGlideRequestListener$drawableCallback$1;
+    invoke-static {p1, p2}, Lbttv/api/Glide;->startWebpDrawable(Landroid/graphics/drawable/Drawable;Landroid/graphics/drawable/Drawable$Callback;)V
+    # /BTTV
+
     .line 122
     instance-of p2, p1, Lcom/bumptech/glide/load/resource/gif/GifDrawable;
 
diff --git a/smali_classes4/tv/twitch/android/shared/ui/elements/GlideHelper.smali b/smali_classes4/tv/twitch/android/shared/ui/elements/GlideHelper.smali
index 842c437dc..9b1c22570 100644
--- a/smali_classes4/tv/twitch/android/shared/ui/elements/GlideHelper.smali
+++ b/smali_classes4/tv/twitch/android/shared/ui/elements/GlideHelper.smali
@@ -377,6 +377,10 @@
 
     invoke-direct {v0, p0, p1, v1}, Ltv/twitch/android/shared/ui/elements/span/GlideChatImageTarget;-><init>(Landroid/content/Context;Ltv/twitch/android/shared/ui/elements/span/UrlDrawable;I)V
 
+    # BTTV
+    invoke-static {v0, p2}, Lbttv/api/Glide;->setRenderingView(Ltv/twitch/android/shared/ui/elements/span/GlideChatImageTarget;Landroid/widget/TextView;)V
+    # /BTTV
+
     .line 90
     invoke-static {p0}, Lcom/bumptech/glide/Glide;->with(Landroid/content/Context;)Lcom/bumptech/glide/RequestManager;
 
diff --git a/smali_classes5/tv/twitch/android/app/consumer/TwitchApplication.smali b/smali_classes5/tv/twitch/android/app/consumer/TwitchApplication.smali
index 8a4ec64eb..e6d98d826 100644
--- a/smali_classes5/tv/twitch/android/app/consumer/TwitchApplication.smali
+++ b/smali_classes5/tv/twitch/android/app/consumer/TwitchApplication.smali
@@ -180,6 +180,13 @@
 
     .line 95
     invoke-super {p0}, Landroid/app/Application;->onCreate()V
+    
+    # BTTV
+    #  Set Application Context
+    #     expects:
+    #       p0: android.content.Context
+    invoke-static {p0}, Lbttv/Data;->setContext(Landroid/content/Context;)V
+    # /BTTV
 
     .line 98
     invoke-static {p0}, Lcom/google/firebase/FirebaseApp;->initializeApp(Landroid/content/Context;)Lcom/google/firebase/FirebaseApp;
diff --git a/smali_classes5/tv/twitch/android/app/consumer/dagger/DaggerAppComponent$SettingsActivitySubcomponentImpl.smali b/smali_classes5/tv/twitch/android/app/consumer/dagger/DaggerAppComponent$SettingsActivitySubcomponentImpl.smali
index a35b8d175..c3be2aa1e 100644
--- a/smali_classes5/tv/twitch/android/app/consumer/dagger/DaggerAppComponent$SettingsActivitySubcomponentImpl.smali
+++ b/smali_classes5/tv/twitch/android/app/consumer/dagger/DaggerAppComponent$SettingsActivitySubcomponentImpl.smali
@@ -860,9 +860,23 @@
     .line 6943
     iput-object p2, p0, Ltv/twitch/android/app/consumer/dagger/DaggerAppComponent$SettingsActivitySubcomponentImpl;->settingsActivityModule:Ltv/twitch/android/settings/dagger/SettingsActivityModule;
 
+    # BTTV
+    #  Set SettingsActivityModule
+    #     expects:
+    #       p2: tv.twitch.android.settings.dagger.SettingsActivityModule
+    invoke-static {p2}, Lbttv/settings/SettingsFragmentBindingFactory;->setSettingsActivityModule(Ltv/twitch/android/settings/dagger/SettingsActivityModule;)V
+    # /BTTV
+
     .line 6944
     iput-object p3, p0, Ltv/twitch/android/app/consumer/dagger/DaggerAppComponent$SettingsActivitySubcomponentImpl;->activityModule:Ltv/twitch/android/app/core/dagger/modules/ActivityModule;
 
+    # BTTV
+    #  Set ActivityModule
+    #     expects:
+    #       p3: tv.twitch.android.app.core.dagger.modules.ActivityModule
+    invoke-static {p3}, Lbttv/settings/SettingsFragmentBindingFactory;->setActivityModule(Ltv/twitch/android/app/core/dagger/modules/ActivityModule;)V
+    # /BTTV
+
     .line 6945
     invoke-direct {p0, p2, p3, p4}, Ltv/twitch/android/app/consumer/dagger/DaggerAppComponent$SettingsActivitySubcomponentImpl;->initialize(Ltv/twitch/android/settings/dagger/SettingsActivityModule;Ltv/twitch/android/app/core/dagger/modules/ActivityModule;Ltv/twitch/android/settings/SettingsActivity;)V
 
@@ -1456,6 +1470,12 @@
     move-result-object p3
 
     iput-object p3, p0, Ltv/twitch/android/app/consumer/dagger/DaggerAppComponent$SettingsActivitySubcomponentImpl;->provideFragmentActivityProvider:Ljavax/inject/Provider;
+    # BTTV
+    #  Set FragmentActivity Provider for Settings Fragment
+    #     expects:
+    #       p3: javax.inject.Provider<androidx.fragment.app.FragmentActivity>
+    invoke-static {p3}, Lbttv/settings/SettingsFragmentBindingFactory;->setFragmentActivityProvider(Ljavax/inject/Provider;)V
+    # /BTTV
 
     .line 7323
     invoke-static {}, Ltv/twitch/android/shared/billing/postalcodecapture/PostalCodeEventDispatcher_Factory;->create()Ltv/twitch/android/shared/billing/postalcodecapture/PostalCodeEventDispatcher_Factory;
@@ -2222,7 +2242,19 @@
     iget-object v2, p0, Ltv/twitch/android/app/consumer/dagger/DaggerAppComponent$SettingsActivitySubcomponentImpl;->connectionsSettingsFragmentSubcomponentFactoryProvider:Ljavax/inject/Provider;
 
     invoke-virtual {v0, v1, v2}, Ldagger/internal/MapBuilder;->put(Ljava/lang/Object;Ljava/lang/Object;)Ldagger/internal/MapBuilder;
-
+    # BTTV
+    #  Add bttv's SettingsFragment to DI
+    #     expects:
+    #       v0: dagger.internal.MapBuilder
+    #     sets:
+    #       v1: bttv.settings.SettingsFragment
+    #       v2: bttv.settings.SettingsFragmentProvider
+    #
+    const-class v1, Lbttv/settings/SettingsFragment;
+    invoke-static {}, Lbttv/settings/SettingsFragmentProvider;->getInstance()Lbttv/settings/SettingsFragmentProvider;
+    move-result-object v2
+    invoke-virtual {v0, v1, v2}, Ldagger/internal/MapBuilder;->put(Ljava/lang/Object;Ljava/lang/Object;)Ldagger/internal/MapBuilder;
+    # /BTTV
     const-class v1, Ltv/twitch/android/settings/account/AccountSettingsFragment;
 
     iget-object v2, p0, Ltv/twitch/android/app/consumer/dagger/DaggerAppComponent$SettingsActivitySubcomponentImpl;->accountSettingsFragmentSubcomponentFactoryProvider:Ljavax/inject/Provider;
diff --git a/smali_classes5/tv/twitch/android/app/consumer/dagger/DaggerAppComponent.smali b/smali_classes5/tv/twitch/android/app/consumer/dagger/DaggerAppComponent.smali
index 79dcc5d51..7902b37fb 100644
--- a/smali_classes5/tv/twitch/android/app/consumer/dagger/DaggerAppComponent.smali
+++ b/smali_classes5/tv/twitch/android/app/consumer/dagger/DaggerAppComponent.smali
@@ -10092,6 +10092,13 @@
 
     iput-object v2, v0, Ltv/twitch/android/app/consumer/dagger/DaggerAppComponent;->pageViewTrackerProvider:Ljavax/inject/Provider;
 
+    # BTTV
+    #  Set PageViewTracker Provider
+    #     expects:
+    #       v2: javax.inject.Provider<tv.twitch.android.shared.analytics.PageViewTracker>
+    invoke-static {v2}, Lbttv/settings/SettingsFragmentBindingFactory;->setPageViewTrackerProvider(Ljavax/inject/Provider;)V
+    # /BTTV
+
     .line 6097
     iget-object v4, v0, Ltv/twitch/android/app/consumer/dagger/DaggerAppComponent;->provideTwitchAccountManagerProvider:Ljavax/inject/Provider;
 
diff --git a/smali_classes5/tv/twitch/android/app/core/navigation/PersistentBannerPresenter$PersistentBanners.smali b/smali_classes5/tv/twitch/android/app/core/navigation/PersistentBannerPresenter$PersistentBanners.smali
index 1a29310a1..039ac3577 100644
--- a/smali_classes5/tv/twitch/android/app/core/navigation/PersistentBannerPresenter$PersistentBanners.smali
+++ b/smali_classes5/tv/twitch/android/app/core/navigation/PersistentBannerPresenter$PersistentBanners.smali
@@ -169,10 +169,24 @@
     new-instance v1, Ltv/twitch/android/app/core/navigation/PersistentBannerPresenter$PersistentBanners;
 
     .line 73
-    sget v6, Ltv/twitch/android/app/R$string;->app_update_available_cta:I
+    # BTTV
+    #   Replaces Update Banner's Content with custom string
+    #      sets:
+    #        v6: I
+    const-string v6, "bttv_app_update_available_cta"
+    invoke-static {v6}, Lbttv/api/Strings;->getStringId(Ljava/lang/String;)I
+    move-result v6
+    # /BTTV
 
     .line 74
-    sget v2, Ltv/twitch/android/app/R$string;->app_update_available:I
+    # BTTV
+    #   Replaces Update Banner's Title with custom string
+    #      sets:
+    #        v2: I
+    const-string v2, "bttv_app_update_available"
+    invoke-static {v2}, Lbttv/api/Strings;->getStringId(Ljava/lang/String;)I
+    move-result v2
+    # /BTTV
 
     invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
diff --git a/smali_classes5/tv/twitch/android/feature/theatre/common/PlayerCoordinatorPresenter$setMetadata$1.smali b/smali_classes5/tv/twitch/android/feature/theatre/common/PlayerCoordinatorPresenter$setMetadata$1.smali
index a79f09cbf..bb9620a64 100644
--- a/smali_classes5/tv/twitch/android/feature/theatre/common/PlayerCoordinatorPresenter$setMetadata$1.smali
+++ b/smali_classes5/tv/twitch/android/feature/theatre/common/PlayerCoordinatorPresenter$setMetadata$1.smali
@@ -89,6 +89,11 @@
 
     const/4 v6, 0x0
 
+    # BTTV
+    invoke-static {v1, p1}, Lbttv/api/SubscribeRedirect;->subscribe(Ltv/twitch/android/feature/theatre/common/PlayerCoordinatorPresenter;Ltv/twitch/android/feature/theatre/metadata/MetadataViewEvent$SubscribeButtonClicked;)V
+    goto :goto_0
+    # /BTTV
+
     invoke-static/range {v1 .. v6}, Ltv/twitch/android/feature/theatre/common/PlayerCoordinatorPresenter;->onSubscribeButtonClicked$feature_theatre_release$default(Ltv/twitch/android/feature/theatre/common/PlayerCoordinatorPresenter;Ltv/twitch/android/shared/subscriptions/pager/SubscriptionPageType;Ltv/twitch/android/models/subscriptions/SubscribeButtonTrackingMetadata;Ltv/twitch/android/models/subscriptions/SubscriptionScreen;ILjava/lang/Object;)V
 
     goto :goto_0
diff --git a/smali_classes5/tv/twitch/android/feature/theatre/common/PlayerCoordinatorPresenter.smali b/smali_classes5/tv/twitch/android/feature/theatre/common/PlayerCoordinatorPresenter.smali
index 4d038ecab..59b5922c2 100644
--- a/smali_classes5/tv/twitch/android/feature/theatre/common/PlayerCoordinatorPresenter.smali
+++ b/smali_classes5/tv/twitch/android/feature/theatre/common/PlayerCoordinatorPresenter.smali
@@ -23,7 +23,7 @@
 
 
 # instance fields
-.field private final activity:Landroidx/fragment/app/FragmentActivity;
+.field public final activity:Landroidx/fragment/app/FragmentActivity;
 
 .field private final adMetadataPresenter:Ltv/twitch/android/feature/theatre/metadata/AdMetadataPresenter;
 
diff --git a/smali_classes5/tv/twitch/android/feature/theatre/metadata/ExtendedPlayerMetadataViewDelegate.smali b/smali_classes5/tv/twitch/android/feature/theatre/metadata/ExtendedPlayerMetadataViewDelegate.smali
index 5312ed935..218c6db5a 100644
--- a/smali_classes5/tv/twitch/android/feature/theatre/metadata/ExtendedPlayerMetadataViewDelegate.smali
+++ b/smali_classes5/tv/twitch/android/feature/theatre/metadata/ExtendedPlayerMetadataViewDelegate.smali
@@ -369,6 +369,10 @@
 
     move-result-object v1
 
+    # BTTV
+    invoke-static {v1}, Lbttv/Data;->setCurrentBroadcasterName(Ljava/lang/CharSequence;)V
+    # /BTTV
+
     invoke-virtual {v0, v1}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V
 
     .line 199
diff --git a/smali_classes5/tv/twitch/android/feature/theatre/metadata/MetadataViewEvent$SubscribeButtonClicked.smali b/smali_classes5/tv/twitch/android/feature/theatre/metadata/MetadataViewEvent$SubscribeButtonClicked.smali
index 7216cea34..441e60ce1 100644
--- a/smali_classes5/tv/twitch/android/feature/theatre/metadata/MetadataViewEvent$SubscribeButtonClicked.smali
+++ b/smali_classes5/tv/twitch/android/feature/theatre/metadata/MetadataViewEvent$SubscribeButtonClicked.smali
@@ -15,7 +15,7 @@
 
 
 # instance fields
-.field private final channelModel:Ltv/twitch/android/models/channel/ChannelModel;
+.field public final channelModel:Ltv/twitch/android/models/channel/ChannelModel;
 
 .field private final pageType:Ltv/twitch/android/shared/subscriptions/pager/SubscriptionPageType;
 
diff --git a/smali_classes5/tv/twitch/android/feature/viewer/main/MainActivity.smali b/smali_classes5/tv/twitch/android/feature/viewer/main/MainActivity.smali
index 489d65a51..0fc3c4b1d 100644
--- a/smali_classes5/tv/twitch/android/feature/viewer/main/MainActivity.smali
+++ b/smali_classes5/tv/twitch/android/feature/viewer/main/MainActivity.smali
@@ -1495,6 +1495,14 @@
 
     invoke-virtual {p1, v0}, Ltv/twitch/android/app/core/navigation/PersistentBannerPresenter;->setListener(Ltv/twitch/android/app/core/navigation/PersistentBannerPresenter$PersistentBannerPresenterListener;)V
 
+    # BTTV
+    #  Check for Updates
+    #     expects:
+    #       p0: android.app.Activity
+    #       p1: tv/twitch/android/app/core/navigation/PersistentBannerPresenter
+    invoke-static {p0, p1}, Lbttv/updater/Updater;->checkForUpdates(Landroid/app/Activity;Ltv/twitch/android/app/core/navigation/PersistentBannerPresenter;)V
+    # /BTTV
+
     .line 360
     iget-object p1, p0, Ltv/twitch/android/feature/viewer/main/MainActivity;->cookieConsentDialogPresenter:Ltv/twitch/android/settings/cookieconsent/CookieConsentDialogPresenter;
 
diff --git a/smali_classes6/tv/twitch/android/models/settings/SettingsDestination.smali b/smali_classes6/tv/twitch/android/models/settings/SettingsDestination.smali
index ae70440a9..149989806 100644
--- a/smali_classes6/tv/twitch/android/models/settings/SettingsDestination.smali
+++ b/smali_classes6/tv/twitch/android/models/settings/SettingsDestination.smali
@@ -106,11 +106,36 @@
 
 .field public static final enum ViewerChatFilters:Ltv/twitch/android/models/settings/SettingsDestination;
 
+# BTTV
+.field public static final enum BTTV:Ltv/twitch/android/models/settings/SettingsDestination;
+.field public static final enum BTTV_HIGHLIGHTS:Ltv/twitch/android/models/settings/SettingsDestination;
+.field public static final enum BTTV_CREDITS:Ltv/twitch/android/models/settings/SettingsDestination;
+# /BTTV
 
 # direct methods
 .method static constructor <clinit>()V
     .locals 47
 
+    # BTTV
+    new-instance v0, Ltv/twitch/android/models/settings/SettingsDestination;
+    const-string v1, "BTTV"
+    const/16 v2, 0x2d
+    invoke-direct {v0, v1, v2}, Ltv/twitch/android/models/settings/SettingsDestination;-><init>(Ljava/lang/String;I)V
+    sput-object v0, Ltv/twitch/android/models/settings/SettingsDestination;->BTTV:Ltv/twitch/android/models/settings/SettingsDestination;
+
+    new-instance v0, Ltv/twitch/android/models/settings/SettingsDestination;
+    const-string v1, "BTTV_HIGHLIGHTS"
+    const/16 v2, 0x2e
+    invoke-direct {v0, v1, v2}, Ltv/twitch/android/models/settings/SettingsDestination;-><init>(Ljava/lang/String;I)V
+    sput-object v0, Ltv/twitch/android/models/settings/SettingsDestination;->BTTV_HIGHLIGHTS:Ltv/twitch/android/models/settings/SettingsDestination;
+
+    new-instance v0, Ltv/twitch/android/models/settings/SettingsDestination;
+    const-string v1, "BTTV_CREDITS"
+    const/16 v2, 0x2f
+    invoke-direct {v0, v1, v2}, Ltv/twitch/android/models/settings/SettingsDestination;-><init>(Ljava/lang/String;I)V
+    sput-object v0, Ltv/twitch/android/models/settings/SettingsDestination;->BTTV_CREDITS:Ltv/twitch/android/models/settings/SettingsDestination;
+    # /BTTV
+
     .line 9
     new-instance v0, Ltv/twitch/android/models/settings/SettingsDestination;
 
@@ -668,6 +693,8 @@
 
     sput-object v4, Ltv/twitch/android/models/settings/SettingsDestination;->ViewerChatFilters:Ltv/twitch/android/models/settings/SettingsDestination;
 
+    # VALUES:
+
     const/16 v2, 0x2d
 
     new-array v2, v2, [Ltv/twitch/android/models/settings/SettingsDestination;
diff --git a/smali_classes6/tv/twitch/android/models/social/ChatUser.smali b/smali_classes6/tv/twitch/android/models/social/ChatUser.smali
index 3965193a7..13392b364 100644
--- a/smali_classes6/tv/twitch/android/models/social/ChatUser.smali
+++ b/smali_classes6/tv/twitch/android/models/social/ChatUser.smali
@@ -26,7 +26,7 @@
 
 .field private final userId:I
 
-.field private final username:Ljava/lang/String;
+.field public final username:Ljava/lang/String;
 
 
 # direct methods
diff --git a/smali_classes6/tv/twitch/android/sdk/ChatController.smali b/smali_classes6/tv/twitch/android/sdk/ChatController.smali
index 08f7a9179..8c820c86d 100644
--- a/smali_classes6/tv/twitch/android/sdk/ChatController.smali
+++ b/smali_classes6/tv/twitch/android/sdk/ChatController.smali
@@ -241,6 +241,13 @@
 
     move-result p1
 
+    # BTTV
+    #  hook when live broadcaster changes
+    #     expects:
+    #     - p2: I
+    invoke-static {p2}, Lbttv/Data;->setCurrentBroadcasterId(I)V
+    # /BTTV
+
     return p1
 .end method
 
diff --git a/smali_classes6/tv/twitch/android/settings/main/MainSettingsPresenter$navController$1.smali b/smali_classes6/tv/twitch/android/settings/main/MainSettingsPresenter$navController$1.smali
index fe4058fdb..102e6254e 100644
--- a/smali_classes6/tv/twitch/android/settings/main/MainSettingsPresenter$navController$1.smali
+++ b/smali_classes6/tv/twitch/android/settings/main/MainSettingsPresenter$navController$1.smali
@@ -47,6 +47,23 @@
 
     invoke-static {p1, p2}, Lkotlin/jvm/internal/Intrinsics;->checkNotNullParameter(Ljava/lang/Object;Ljava/lang/String;)V
 
+    # BTTV
+    #  open bttv settings fragment when bttv settings destination
+    #     expects:
+    #     - p1: tv.twitch.android.models.settings.SettingsDestination
+    #     sets:
+    #     - p2: tv.twitch.android.models.settings.SettingsDestination.BTTV will be overwritten
+    sget-object p2, Ltv/twitch/android/models/settings/SettingsDestination;->BTTV:Ltv/twitch/android/models/settings/SettingsDestination;
+    if-ne p1, p2, :not_bttv
+
+    new-instance p2, Lbttv/settings/SettingsFragment;
+    invoke-direct {p2}, Lbttv/settings/SettingsFragment;-><init>()V
+
+    goto :goto_0
+
+    :not_bttv
+    # /BTTV
+
     .line 74
     sget-object p2, Ltv/twitch/android/models/settings/SettingsDestination;->CommunityGuidelines:Ltv/twitch/android/models/settings/SettingsDestination;
 
@@ -240,6 +257,13 @@
     move-result-object p1
 
     .line 103
+    # BTTV
+    #  v0 may not be initialized, so we set it to null
+    #  it's ok as it is null anyway
+    #     sets:
+    #     - v0: null
+    const/16 v0, 0x0
+    # /BTTV
     invoke-virtual {v1, v2, p2, p1, v0}, Ltv/twitch/android/util/FragmentUtil$Companion;->addOrRecreateFragment(Landroidx/fragment/app/FragmentActivity;Landroidx/fragment/app/Fragment;Ljava/lang/String;Landroid/os/Bundle;)V
 
     :cond_2
diff --git a/smali_classes6/tv/twitch/android/settings/main/MainSettingsPresenter.smali b/smali_classes6/tv/twitch/android/settings/main/MainSettingsPresenter.smali
index 62473eeb0..a8385f48f 100644
--- a/smali_classes6/tv/twitch/android/settings/main/MainSettingsPresenter.smali
+++ b/smali_classes6/tv/twitch/android/settings/main/MainSettingsPresenter.smali
@@ -664,6 +664,28 @@
 
     invoke-interface {v0, v9}, Ljava/util/List;->add(Ljava/lang/Object;)Z
 
+    # BTTV Settings
+    invoke-virtual {p0}, Ltv/twitch/android/settings/base/BaseSettingsPresenter;->getSettingModels()Ljava/util/List;
+
+    move-result-object v0
+
+    new-instance v9, Ltv/twitch/android/shared/ui/menus/subscription/SubMenuModel;
+
+    invoke-virtual {p0}, Ltv/twitch/android/settings/base/BaseSettingsPresenter;->getActivity()Landroidx/fragment/app/FragmentActivity;
+
+    move-result-object v1
+
+    const-string v2, "BTTV"
+
+    sget-object v5, Ltv/twitch/android/models/settings/SettingsDestination;->BTTV:Ltv/twitch/android/models/settings/SettingsDestination;
+
+    move-object v1, v9
+
+    invoke-direct/range {v1 .. v8}, Ltv/twitch/android/shared/ui/menus/subscription/SubMenuModel;-><init>(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ltv/twitch/android/models/settings/SettingsDestination;ZILkotlin/jvm/internal/DefaultConstructorMarker;)V
+
+    invoke-interface {v0, v9}, Ljava/util/List;->add(Ljava/lang/Object;)Z
+    #
+
     .line 130
     sget-object v0, Ltv/twitch/android/shared/legal/kftc/KftcPresenter;->Companion:Ltv/twitch/android/shared/legal/kftc/KftcPresenter$Companion;
 
diff --git a/smali_classes6/tv/twitch/android/shared/bits/BitsSpendingPresenter$maybeShowBuyBitsButton$1$1.smali b/smali_classes6/tv/twitch/android/shared/bits/BitsSpendingPresenter$maybeShowBuyBitsButton$1$1.smali
index 414b75618..5275ae9b0 100644
--- a/smali_classes6/tv/twitch/android/shared/bits/BitsSpendingPresenter$maybeShowBuyBitsButton$1$1.smali
+++ b/smali_classes6/tv/twitch/android/shared/bits/BitsSpendingPresenter$maybeShowBuyBitsButton$1$1.smali
@@ -63,6 +63,14 @@
 .method public final invoke()V
     .locals 9
 
+    # BTTV
+    #  Set up BitsButton-Click-Handler
+    iget-object v0, p0, Ltv/twitch/android/shared/bits/BitsSpendingPresenter$maybeShowBuyBitsButton$1$1;->this$0:Ltv/twitch/android/shared/bits/BitsSpendingPresenter$maybeShowBuyBitsButton$1;
+    iget-object v0, v0, Ltv/twitch/android/shared/bits/BitsSpendingPresenter$maybeShowBuyBitsButton$1;->this$0:Ltv/twitch/android/shared/bits/BitsSpendingPresenter;
+    invoke-static {v0}, Lbttv/api/Bits;->onBuyBitsButtonClick(Ltv/twitch/android/shared/bits/BitsSpendingPresenter;)V
+    goto :goto_0
+    # /BTTV
+
     .line 481
     iget-object v0, p0, Ltv/twitch/android/shared/bits/BitsSpendingPresenter$maybeShowBuyBitsButton$1$1;->$productForAmount:Ltv/twitch/android/models/bits/IapBundleModel;
 
diff --git a/smali_classes6/tv/twitch/android/shared/bits/BitsSpendingPresenter.smali b/smali_classes6/tv/twitch/android/shared/bits/BitsSpendingPresenter.smali
index 8af3af5a7..eaca43211 100644
--- a/smali_classes6/tv/twitch/android/shared/bits/BitsSpendingPresenter.smali
+++ b/smali_classes6/tv/twitch/android/shared/bits/BitsSpendingPresenter.smali
@@ -18,7 +18,7 @@
 
 
 # instance fields
-.field private final activity:Landroidx/fragment/app/FragmentActivity;
+.field public final activity:Landroidx/fragment/app/FragmentActivity;
 
 .field private balanceModel:Ltv/twitch/android/models/bits/BitsBalanceModel;
 
@@ -774,7 +774,9 @@
 
     const/4 v2, 0x1
 
-    invoke-virtual {v0, v1, v2}, Ltv/twitch/android/shared/bits/billing/BitsIAPManager;->isPurchasingAvailable(Landroidx/fragment/app/FragmentActivity;Z)Lio/reactivex/Single;
+    # BTTV
+    invoke-static {}, Lbttv/api/Util;->getTrueSingle()Lio/reactivex/Single;
+    # /BTTV
 
     move-result-object v4
 
diff --git a/smali_classes6/tv/twitch/android/shared/chat/ChatMessageDelegate.smali b/smali_classes6/tv/twitch/android/shared/chat/ChatMessageDelegate.smali
index 8aa90871d..6f243ed5d 100644
--- a/smali_classes6/tv/twitch/android/shared/chat/ChatMessageDelegate.smali
+++ b/smali_classes6/tv/twitch/android/shared/chat/ChatMessageDelegate.smali
@@ -7,7 +7,7 @@
 
 
 # instance fields
-.field private mChatMessage:Ltv/twitch/chat/ChatMessageInfo;
+.field public mChatMessage:Ltv/twitch/chat/ChatMessageInfo;
 
 .field private mChatMessageParser:Ltv/twitch/android/shared/chat/ChatMessageParser;
 
diff --git a/smali_classes6/tv/twitch/android/shared/chat/api/EmoteApi.smali b/smali_classes6/tv/twitch/android/shared/chat/api/EmoteApi.smali
index 3e19d1849..6159c0e21 100644
--- a/smali_classes6/tv/twitch/android/shared/chat/api/EmoteApi.smali
+++ b/smali_classes6/tv/twitch/android/shared/chat/api/EmoteApi.smali
@@ -57,6 +57,21 @@
         }
     .end annotation
 
+    # BTTV
+    #  returns custom emote response if bttv emote
+    #     expects:
+    #     - p1: java.lang.String
+    #     sets:
+    #     - v0: io.reactivex.Single<tv.twitch.android.shared.chat.parser.EmoteCardModelParser$EmoteCardModelResponse>
+    #     returns io.reactivex.Single<tv.twitch.android.shared.chat.parser.EmoteCardModelParser$EmoteCardModelResponse>
+    invoke-static {p1}, Lbttv/emote/EmoteCardUtil;->getEmoteResponseOrNull(Ljava/lang/String;)Lio/reactivex/Single;
+    move-result-object v0
+
+    if-eqz v0, :after_bttv
+    return-object v0
+    :after_bttv
+    # /BTTV
+
     const-string v0, "emoteId"
 
     invoke-static {p1, v0}, Lkotlin/jvm/internal/Intrinsics;->checkNotNullParameter(Ljava/lang/Object;Ljava/lang/String;)V
diff --git a/smali_classes6/tv/twitch/android/shared/chat/chatuserdialog/ChatUserDialogPresenter.smali b/smali_classes6/tv/twitch/android/shared/chat/chatuserdialog/ChatUserDialogPresenter.smali
index 3e578bd85..2d6d7da84 100644
--- a/smali_classes6/tv/twitch/android/shared/chat/chatuserdialog/ChatUserDialogPresenter.smali
+++ b/smali_classes6/tv/twitch/android/shared/chat/chatuserdialog/ChatUserDialogPresenter.smali
@@ -4,7 +4,7 @@
 
 
 # instance fields
-.field private final activity:Landroidx/fragment/app/FragmentActivity;
+.field public final activity:Landroidx/fragment/app/FragmentActivity;
 
 .field private final blockedUsersManager:Ltv/twitch/android/shared/blocking/BlockedUsersManager;
 
@@ -22,7 +22,7 @@
 
 .field private final giftSubUserAction:Ltv/twitch/android/shared/chat/chatuserdialog/StandardGiftSubscriptionUserAction;
 
-.field private final info:Ltv/twitch/android/shared/chat/chatuserdialog/ChatUserDialogInfo;
+.field public final info:Ltv/twitch/android/shared/chat/chatuserdialog/ChatUserDialogInfo;
 
 .field private listeners:Ljava/util/Set;
     .annotation system Ldalvik/annotation/Signature;
@@ -598,6 +598,11 @@
 
     invoke-direct {v1, p0, p1}, Ltv/twitch/android/shared/chat/chatuserdialog/ChatUserDialogPresenter$setupClickHandlers$2;-><init>(Ltv/twitch/android/shared/chat/chatuserdialog/ChatUserDialogPresenter;Ltv/twitch/android/models/social/ChatUser;)V
 
+    # BTTV
+    invoke-static {p0, p1}, Lbttv/api/SubscribeRedirect;->giftSubscriptionListener(Ltv/twitch/android/shared/chat/chatuserdialog/ChatUserDialogPresenter;Ltv/twitch/android/models/social/ChatUser;)Landroid/view/View$OnClickListener;
+    move-result-object v1
+    # /BTTV
+
     invoke-virtual {v0, v1}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V
 
     .line 156
diff --git a/smali_classes6/tv/twitch/android/shared/chat/chomments/ChommentMessageFactory.smali b/smali_classes6/tv/twitch/android/shared/chat/chomments/ChommentMessageFactory.smali
index f826730f4..88fd21f1b 100644
--- a/smali_classes6/tv/twitch/android/shared/chat/chomments/ChommentMessageFactory.smali
+++ b/smali_classes6/tv/twitch/android/shared/chat/chomments/ChommentMessageFactory.smali
@@ -213,7 +213,9 @@
     :cond_2
     iget-object p2, p0, Ltv/twitch/android/shared/chat/chomments/ChommentMessageFactory;->chatMessageFactory:Ltv/twitch/android/shared/chat/messagefactory/ChatMessageFactory;
 
-    new-instance v7, Ltv/twitch/android/shared/chat/chomments/ChommentModelDelegate;
+    # BTTV
+    new-instance v7, Lbttv/ChommentModelDelegateWrapper;
+    # /BTTV
 
     iget-object v3, p0, Ltv/twitch/android/shared/chat/chomments/ChommentMessageFactory;->sdkServicesController:Ltv/twitch/android/sdk/SDKServicesController;
 
@@ -227,7 +229,7 @@
 
     move-object v2, p1
 
-    invoke-direct/range {v1 .. v6}, Ltv/twitch/android/shared/chat/chomments/ChommentModelDelegate;-><init>(Ltv/twitch/android/models/chomments/ChommentModel;Ltv/twitch/android/sdk/SDKServicesController;Ltv/twitch/android/shared/chat/ChatMessageParser;ILkotlin/jvm/internal/DefaultConstructorMarker;)V
+    invoke-direct/range {v1 .. v6}, Lbttv/ChommentModelDelegateWrapper;-><init>(Ltv/twitch/android/models/chomments/ChommentModel;Ltv/twitch/android/sdk/SDKServicesController;Ltv/twitch/android/shared/chat/ChatMessageParser;ILkotlin/jvm/internal/DefaultConstructorMarker;)V
 
     invoke-virtual {p1}, Ltv/twitch/android/models/chomments/ChommentModel;->getChannelId()Ljava/lang/String;
 
diff --git a/smali_classes6/tv/twitch/android/shared/chat/chomments/ChommentModelDelegate.smali b/smali_classes6/tv/twitch/android/shared/chat/chomments/ChommentModelDelegate.smali
index cb362b134..81e398db2 100644
--- a/smali_classes6/tv/twitch/android/shared/chat/chomments/ChommentModelDelegate.smali
+++ b/smali_classes6/tv/twitch/android/shared/chat/chomments/ChommentModelDelegate.smali
@@ -1,4 +1,4 @@
-.class public final Ltv/twitch/android/shared/chat/chomments/ChommentModelDelegate;
+.class public Ltv/twitch/android/shared/chat/chomments/ChommentModelDelegate;
 .super Ljava/lang/Object;
 .source "SourceFile"
 
diff --git a/smali_classes6/tv/twitch/android/shared/chat/emotecard/EmoteCardUiModel.smali b/smali_classes6/tv/twitch/android/shared/chat/emotecard/EmoteCardUiModel.smali
index cebe734c1..94f45d852 100644
--- a/smali_classes6/tv/twitch/android/shared/chat/emotecard/EmoteCardUiModel.smali
+++ b/smali_classes6/tv/twitch/android/shared/chat/emotecard/EmoteCardUiModel.smali
@@ -26,7 +26,7 @@
 
 # direct methods
 .method private constructor <init>(Ltv/twitch/android/shared/chat/model/EmoteCardModel;ZLjava/lang/String;)V
-    .locals 0
+    .locals 1
 
     .line 13
     invoke-direct {p0}, Ljava/lang/Object;-><init>()V
@@ -35,7 +35,12 @@
 
     iput-boolean p2, p0, Ltv/twitch/android/shared/chat/emotecard/EmoteCardUiModel;->isEmoteAnimationIconVisible:Z
 
-    iput-object p3, p0, Ltv/twitch/android/shared/chat/emotecard/EmoteCardUiModel;->emoteUrl:Ljava/lang/String;
+    # BTTV
+    invoke-static {p1, p3}, Lbttv/emote/EmoteCardUtil;->maybeReplaceEmoteCardUiModelEmoteUrl(Ltv/twitch/android/shared/chat/model/EmoteCardModel;Ljava/lang/String;)Ljava/lang/String;
+    move-result-object v0
+    # /BTTV
+
+    iput-object v0, p0, Ltv/twitch/android/shared/chat/emotecard/EmoteCardUiModel;->emoteUrl:Ljava/lang/String;
 
     return-void
 .end method
diff --git a/smali_classes6/tv/twitch/android/shared/chat/emotecard/EmoteCardViewDelegate.smali b/smali_classes6/tv/twitch/android/shared/chat/emotecard/EmoteCardViewDelegate.smali
index 2f4cf70db..74cb66121 100644
--- a/smali_classes6/tv/twitch/android/shared/chat/emotecard/EmoteCardViewDelegate.smali
+++ b/smali_classes6/tv/twitch/android/shared/chat/emotecard/EmoteCardViewDelegate.smali
@@ -1503,6 +1503,19 @@
     .line 184
     iget-object v0, p0, Ltv/twitch/android/shared/chat/emotecard/EmoteCardViewDelegate;->emoteDesc:Landroid/widget/TextView;
 
+    # BTTV
+    instance-of v1, p1, Lbttv/emote/EmoteCardUtil$BTTVEmoteCardModel;
+
+    if-eqz v1, :after_bttv
+
+    invoke-static {p0}, Lbttv/api/Strings;->getEmoteAddedByBttvString(Ltv/twitch/android/shared/chat/emotecard/EmoteCardViewDelegate;)Ljava/lang/String;
+    move-result-object p1
+
+    goto :goto_0
+
+    :after_bttv
+    # /BTTV
+
     .line 185
     instance-of v1, p1, Ltv/twitch/android/shared/chat/model/EmoteCardModel$ChannelPointsEmoteCardModel;
 
diff --git a/smali_classes6/tv/twitch/android/shared/chat/messagefactory/ChatMessageFactory.smali b/smali_classes6/tv/twitch/android/shared/chat/messagefactory/ChatMessageFactory.smali
index ba3b7cbe1..269d89935 100644
--- a/smali_classes6/tv/twitch/android/shared/chat/messagefactory/ChatMessageFactory.smali
+++ b/smali_classes6/tv/twitch/android/shared/chat/messagefactory/ChatMessageFactory.smali
@@ -623,6 +623,12 @@
     goto :goto_2
 
     :cond_3
+
+    # BTTV
+    invoke-static/range {p1 .. p12}, Lbttv/api/Highlight;->replaceNum(Ltv/twitch/android/shared/chat/ChatMessageInterface;ZZIILjava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/String;ZLjava/lang/Object;Ljava/lang/Integer;)Ljava/lang/Integer;
+    move-result-object p12
+    # /BTTV
+
     if-eqz p12, :cond_4
 
     .line 678
@@ -2736,6 +2742,13 @@
 
     move-object/from16 v0, p1
 
+    # BTTV
+    #  Add bttv emotes
+    #     expects:
+    #       v0: tv.twitch.chat.ChatMessageInfo
+    invoke-static {v0}, Lbttv/Tokenizer;->retokenizeLiveChatMessage(Ltv/twitch/chat/ChatMessageInfo;)V
+    # /BTTV
+
     const-string v1, "chatMessageInfo"
 
     invoke-static {v0, v1}, Lkotlin/jvm/internal/Intrinsics;->checkNotNullParameter(Ljava/lang/Object;Ljava/lang/String;)V
@@ -4072,6 +4085,13 @@
     .line 305
     iget-object v6, v0, Ltv/twitch/chat/ChatSubscriptionNotice;->userMessage:Ltv/twitch/chat/ChatMessageInfo;
 
+    # BTTV
+    #  Add bttv emotes
+    #     expects:
+    #       v6: tv.twitch.chat.ChatMessageInfo
+    invoke-static {v6}, Lbttv/Tokenizer;->retokenizeLiveChatMessage(Ltv/twitch/chat/ChatMessageInfo;)V
+    # /BTTV
+
     const/4 v5, 0x0
 
     if-eqz v6, :cond_7
diff --git a/smali_classes6/tv/twitch/android/shared/chat/messageinput/autocomplete/EmoteAutoCompleteMapProvider$1.smali b/smali_classes6/tv/twitch/android/shared/chat/messageinput/autocomplete/EmoteAutoCompleteMapProvider$1.smali
index ed512dec2..8bca7a593 100644
--- a/smali_classes6/tv/twitch/android/shared/chat/messageinput/autocomplete/EmoteAutoCompleteMapProvider$1.smali
+++ b/smali_classes6/tv/twitch/android/shared/chat/messageinput/autocomplete/EmoteAutoCompleteMapProvider$1.smali
@@ -78,6 +78,12 @@
         }
     .end annotation
 
+    # BTTV
+    #     expects:
+    #     - p1: List<tv.twitch.android.shared.emotes.models.EmoteSet>
+    invoke-static {p1}, Lbttv/api/Autocomplete;->addOurEmotes(Ljava/util/List;)V
+    # /BTTV
+
     const-string v0, "it"
 
     invoke-static {p1, v0}, Lkotlin/jvm/internal/Intrinsics;->checkNotNullParameter(Ljava/lang/Object;Ljava/lang/String;)V
diff --git a/smali_classes6/tv/twitch/android/shared/chat/model/EmoteCardModel$GlobalEmoteCardModel.smali b/smali_classes6/tv/twitch/android/shared/chat/model/EmoteCardModel$GlobalEmoteCardModel.smali
index cbf995694..5340972be 100644
--- a/smali_classes6/tv/twitch/android/shared/chat/model/EmoteCardModel$GlobalEmoteCardModel.smali
+++ b/smali_classes6/tv/twitch/android/shared/chat/model/EmoteCardModel$GlobalEmoteCardModel.smali
@@ -1,4 +1,4 @@
-.class public final Ltv/twitch/android/shared/chat/model/EmoteCardModel$GlobalEmoteCardModel;
+.class public Ltv/twitch/android/shared/chat/model/EmoteCardModel$GlobalEmoteCardModel;
 .super Ltv/twitch/android/shared/chat/model/EmoteCardModel;
 .source "SourceFile"
 
diff --git a/smali_classes6/tv/twitch/android/shared/chat/model/EmoteCardModel.smali b/smali_classes6/tv/twitch/android/shared/chat/model/EmoteCardModel.smali
index cdd0c056d..69b3c1720 100644
--- a/smali_classes6/tv/twitch/android/shared/chat/model/EmoteCardModel.smali
+++ b/smali_classes6/tv/twitch/android/shared/chat/model/EmoteCardModel.smali
@@ -23,7 +23,7 @@
 # instance fields
 .field private final assetType:Ltv/twitch/android/models/emotes/EmoteModelAssetType;
 
-.field private final emoteId:Ljava/lang/String;
+.field public final emoteId:Ljava/lang/String;
 
 .field private final emoteToken:Ljava/lang/String;
 
diff --git a/smali_classes6/tv/twitch/android/shared/chat/util/ChatUtil$Companion.smali b/smali_classes6/tv/twitch/android/shared/chat/util/ChatUtil$Companion.smali
index e62b7104e..1374784e2 100644
--- a/smali_classes6/tv/twitch/android/shared/chat/util/ChatUtil$Companion.smali
+++ b/smali_classes6/tv/twitch/android/shared/chat/util/ChatUtil$Companion.smali
@@ -180,6 +180,15 @@
         }
     .end annotation
 
+    # BTTV
+    invoke-static {p1}, Lbttv/api/DeletedMessages;->reSpan(Landroid/text/Spanned;)Landroid/text/Spanned;
+    move-result-object v0
+    if-eqz v0, :bttv_skip
+    move-object p1, v0
+    goto :cond_1
+    :bttv_skip
+    # /BTTV
+
     const-string v0, "span"
 
     invoke-static {p1, v0}, Lkotlin/jvm/internal/Intrinsics;->checkNotNullParameter(Ljava/lang/Object;Ljava/lang/String;)V
diff --git a/smali_classes6/tv/twitch/android/shared/chomments/impl/ChommentsFetcherImpl.smali b/smali_classes6/tv/twitch/android/shared/chomments/impl/ChommentsFetcherImpl.smali
index 0cad48f74..b14a3bd82 100644
--- a/smali_classes6/tv/twitch/android/shared/chomments/impl/ChommentsFetcherImpl.smali
+++ b/smali_classes6/tv/twitch/android/shared/chomments/impl/ChommentsFetcherImpl.smali
@@ -778,6 +778,13 @@
     .line 57
     iput-object p2, p0, Ltv/twitch/android/shared/chomments/impl/ChommentsFetcherImpl;->channelModel:Ltv/twitch/android/models/channel/ChannelModel;
 
+    # BTTV
+    #  hook when broadcaster changes in VOD
+    #     expects:
+    #     - p2: tv.twitch.android.models.channel.ChannelModel
+    invoke-static {p2}, Lbttv/Data;->setCurrentBroadcasterId(Ltv/twitch/android/models/channel/ChannelModel;)V
+    # /BTTV
+
     .line 58
     invoke-static {}, Ltv/twitch/android/util/RandomUtil;->generateRandomHexadecimal32Characters()Ljava/lang/String;
 
diff --git a/smali_classes6/tv/twitch/android/shared/community/points/viewdelegate/CommunityPointsButtonViewDelegate.smali b/smali_classes6/tv/twitch/android/shared/community/points/viewdelegate/CommunityPointsButtonViewDelegate.smali
index 338ed2b67..f862db3a5 100644
--- a/smali_classes6/tv/twitch/android/shared/community/points/viewdelegate/CommunityPointsButtonViewDelegate.smali
+++ b/smali_classes6/tv/twitch/android/shared/community/points/viewdelegate/CommunityPointsButtonViewDelegate.smali
@@ -563,6 +563,12 @@
     invoke-direct {v1, p0, p1}, Ltv/twitch/android/shared/community/points/viewdelegate/CommunityPointsButtonViewDelegate$showClaimAvailable$1;-><init>(Ltv/twitch/android/shared/community/points/viewdelegate/CommunityPointsButtonViewDelegate;Ltv/twitch/android/models/communitypoints/CommunityPointsModel;)V
 
     invoke-virtual {v0, v1}, Landroid/view/ViewGroup;->setOnClickListener(Landroid/view/View$OnClickListener;)V
+    # BTTV
+    #  auto redeem feature
+    #     expects:
+    #     - v1: impl android.view.View.OnClickListener
+    invoke-static {v1}, Lbttv/ChannelPoints;->autoRedeem(Landroid/view/View$OnClickListener;)V
+    # /BTTV
 
     .line 134
     iget-object v0, p0, Ltv/twitch/android/shared/community/points/viewdelegate/CommunityPointsButtonViewDelegate;->communityPointsUtil:Ltv/twitch/android/shared/community/points/util/CommunityPointsUtil;
diff --git a/smali_classes6/tv/twitch/android/shared/emotes/emotepicker/EmotePickerPresenter$refreshAndShowEmoteSets$1.smali b/smali_classes6/tv/twitch/android/shared/emotes/emotepicker/EmotePickerPresenter$refreshAndShowEmoteSets$1.smali
index dfcd86f6c..a0a8e4ff6 100644
--- a/smali_classes6/tv/twitch/android/shared/emotes/emotepicker/EmotePickerPresenter$refreshAndShowEmoteSets$1.smali
+++ b/smali_classes6/tv/twitch/android/shared/emotes/emotepicker/EmotePickerPresenter$refreshAndShowEmoteSets$1.smali
@@ -182,6 +182,11 @@
 
     move-result-object p1
 
+    # BTTV
+    #  add bttv emotes to emote picker
+    invoke-static {p1}, Lbttv/api/EmotePicker;->extendList(Ljava/util/List;)V
+    # /BTTV
+
     .line 237
     invoke-virtual {p2}, Ltv/twitch/android/util/Optional;->isPresent()Z
 
diff --git a/smali_classes6/tv/twitch/android/shared/emotes/utils/AnimatedEmotesUrlUtil.smali b/smali_classes6/tv/twitch/android/shared/emotes/utils/AnimatedEmotesUrlUtil.smali
index c20456261..9776d5d9d 100644
--- a/smali_classes6/tv/twitch/android/shared/emotes/utils/AnimatedEmotesUrlUtil.smali
+++ b/smali_classes6/tv/twitch/android/shared/emotes/utils/AnimatedEmotesUrlUtil.smali
@@ -126,6 +126,16 @@
     :goto_2
     new-instance p4, Ltv/twitch/android/shared/emotes/utils/AnimatedEmotesUrlUtil$EmoteUrlDetails;
 
+    # BTTV
+    #  use our url if bttv emote
+    invoke-static {p2}, Lbttv/emote/EmoteUrlUtil;->getEmoteUrl(Ljava/lang/String;)Ljava/lang/String;
+    move-result-object v1
+    if-eqz v1, :after_bttv
+    move-object p1, v1
+    goto :after_url_built
+    :after_bttv
+    # /BTTV
+
     .line 115
     new-instance v1, Ljava/lang/StringBuilder;
 
@@ -159,6 +169,8 @@
 
     move-result-object p1
 
+    :after_url_built
+
     .line 114
     invoke-direct {p4, p1, p3}, Ltv/twitch/android/shared/emotes/utils/AnimatedEmotesUrlUtil$EmoteUrlDetails;-><init>(Ljava/lang/String;Ltv/twitch/android/shared/emotes/utils/AnimatedEmotesUrlUtil$EmoteUrlAnimationSetting;)V
 
diff --git a/smali_classes6/tv/twitch/android/shared/player/overlay/BottomPlayerControlOverlayViewDelegate.smali b/smali_classes6/tv/twitch/android/shared/player/overlay/BottomPlayerControlOverlayViewDelegate.smali
index 3d2ad62a6..fa1538124 100644
--- a/smali_classes6/tv/twitch/android/shared/player/overlay/BottomPlayerControlOverlayViewDelegate.smali
+++ b/smali_classes6/tv/twitch/android/shared/player/overlay/BottomPlayerControlOverlayViewDelegate.smali
@@ -54,6 +54,12 @@
     .line 72
     invoke-direct {p0, p1, p2}, Ltv/twitch/android/core/mvp/viewdelegate/BaseViewDelegate;-><init>(Landroid/content/Context;Landroid/view/View;)V
 
+    # BTTV
+    #     expects:
+    #     - p1: android.content.Context
+    #     - p2: android.view.View
+    invoke-static {p1, p2}, Lbttv/api/SleepTimer;->onInit(Landroid/content/Context;Landroid/view/View;)V
+    # /BTTV
     const/4 v0, 0x1
 
     .line 49
diff --git a/smali_classes7/tv/twitch/android/shared/ui/elements/span/GlideChatImageTarget.smali b/smali_classes7/tv/twitch/android/shared/ui/elements/span/GlideChatImageTarget.smali
index f2c300298..8a62dce93 100644
--- a/smali_classes7/tv/twitch/android/shared/ui/elements/span/GlideChatImageTarget.smali
+++ b/smali_classes7/tv/twitch/android/shared/ui/elements/span/GlideChatImageTarget.smali
@@ -18,8 +18,9 @@
 
 .field private mMaxSideDimenPixel:I
 
-.field private mUrlDrawable:Ltv/twitch/android/shared/ui/elements/span/UrlDrawable;
+.field public mUrlDrawable:Ltv/twitch/android/shared/ui/elements/span/UrlDrawable;
 
+.field public bttvView:Landroid/widget/TextView; # BTTV
 
 # direct methods
 .method public constructor <init>(Landroid/content/Context;Ltv/twitch/android/shared/ui/elements/span/UrlDrawable;I)V
@@ -81,7 +82,7 @@
 .end method
 
 .method private scaleSquared(FFF)Landroid/graphics/Point;
-    .locals 3
+    .locals 4
 
     const/high16 v0, 0x3f800000    # 1.0f
 
@@ -109,6 +110,15 @@
 
     move-result p3
 
+    # BTTV
+    #  fix wide emotes
+    invoke-static {p0}, Lbttv/api/Glide;->getIsBttvEmote(Ltv/twitch/android/shared/ui/elements/span/GlideChatImageTarget;)Z
+    move-result v3
+    if-eqz v3, :not_bttv
+    move p3, v0
+    :not_bttv
+    # /BTTV
+
     mul-float p1, p1, p3
 
     float-to-int p1, p1
@@ -230,6 +240,10 @@
 
     invoke-virtual {p2, p1}, Ltv/twitch/android/shared/ui/elements/span/UrlDrawable;->setDrawable(Landroid/graphics/drawable/Drawable;)V
 
+    # BTTV
+    invoke-static {p0, p1}, Lbttv/api/Glide;->invalidateView(Ltv/twitch/android/shared/ui/elements/span/GlideChatImageTarget;Landroid/graphics/drawable/Drawable;)V
+    # /BTTV
+
     return-void
 .end method
 
diff --git a/smali_classes7/tv/twitch/android/shared/ui/elements/span/UrlDrawable.smali b/smali_classes7/tv/twitch/android/shared/ui/elements/span/UrlDrawable.smali
index 8de681b56..f82b9a1f3 100644
--- a/smali_classes7/tv/twitch/android/shared/ui/elements/span/UrlDrawable.smali
+++ b/smali_classes7/tv/twitch/android/shared/ui/elements/span/UrlDrawable.smali
@@ -126,7 +126,7 @@
 .end method
 
 .method public draw(Landroid/graphics/Canvas;)V
-    .locals 1
+    .locals 2 # BTTV 1 -> 2
 
     const-string v0, "canvas"
 
@@ -153,6 +153,13 @@
 
     if-nez p1, :cond_0
 
+    # BTTV
+    #     don't start gif if disabled
+    invoke-static {p0}, Lbttv/api/Glide;->shouldAnimateEmotes(Ltv/twitch/android/shared/ui/elements/span/UrlDrawable;)Z
+    move-result v1
+    if-eqz v1, :cond_0
+    # /BTTV
+
     .line 56
     invoke-virtual {v0}, Lcom/bumptech/glide/load/resource/gif/GifDrawable;->start()V
 
diff --git a/smali_classes7/tv/twitch/android/shared/ui/menus/SettingsPreferencesController$SettingsPreference.smali b/smali_classes7/tv/twitch/android/shared/ui/menus/SettingsPreferencesController$SettingsPreference.smali
index 6ad1470d4..2b35855b2 100644
--- a/smali_classes7/tv/twitch/android/shared/ui/menus/SettingsPreferencesController$SettingsPreference.smali
+++ b/smali_classes7/tv/twitch/android/shared/ui/menus/SettingsPreferencesController$SettingsPreference.smali
@@ -97,12 +97,15 @@
 
 .field public static final enum SmartFeed:Ltv/twitch/android/shared/ui/menus/SettingsPreferencesController$SettingsPreference;
 
+# BTTV
+.field public static final enum BTTVEmotesEnabled:Ltv/twitch/android/shared/ui/menus/SettingsPreferencesController$SettingsPreference;
+# /BTTV
 
 # direct methods
 .method static constructor <clinit>()V
     .locals 4
 
-    const/16 v0, 0x24
+    const/16 v0, 0x25 # length of values array
 
     new-array v0, v0, [Ltv/twitch/android/shared/ui/menus/SettingsPreferencesController$SettingsPreference;
 
@@ -566,6 +569,22 @@
 
     aput-object v1, v0, v2
 
+    # BTTV
+    #     expects:
+    #       v0: tv.twitch.android.shared.ui.menus.SettingsPreferencesController.SettingsPreference
+    #     sets:
+    #       v1: tv.twitch.android.shared.ui.menus.SettingsPreferencesController.SettingsPreference
+    #       v2: java.lang.String
+    #       v2: I
+    #       v3: I
+    new-instance v1, Ltv/twitch/android/shared/ui/menus/SettingsPreferencesController$SettingsPreference;
+    const-string v2, "BTTVEmotesEnabled"
+    const/16 v3, 0x24
+    invoke-direct {v1, v2, v3}, Ltv/twitch/android/shared/ui/menus/SettingsPreferencesController$SettingsPreference;-><init>(Ljava/lang/String;I)V
+    const/16 v2, 0x24
+    aput-object v1, v0, v2
+    # /BTTV
+
     sput-object v0, Ltv/twitch/android/shared/ui/menus/SettingsPreferencesController$SettingsPreference;->$VALUES:[Ltv/twitch/android/shared/ui/menus/SettingsPreferencesController$SettingsPreference;
 
     return-void
diff --git a/smali_classes7/tv/twitch/android/util/EmoteUrlUtil.smali b/smali_classes7/tv/twitch/android/util/EmoteUrlUtil.smali
index 06cd96f7f..1c86b2453 100644
--- a/smali_classes7/tv/twitch/android/util/EmoteUrlUtil.smali
+++ b/smali_classes7/tv/twitch/android/util/EmoteUrlUtil.smali
@@ -628,6 +628,15 @@
 .method public static final generateEmoteUrl(Ljava/lang/String;F)Ljava/lang/String;
     .locals 2
 
+    # BTTV
+    #  return our url if bttv emote
+    invoke-static {p0}, Lbttv/emote/EmoteUrlUtil;->getEmoteUrl(Ljava/lang/String;)Ljava/lang/String;
+    move-result-object v0
+    if-eqz v0, :after_bttv
+    return-object v0
+    :after_bttv
+    # /BTTV
+
     const-string v0, "id"
 
     invoke-static {p0, v0}, Lkotlin/jvm/internal/Intrinsics;->checkNotNullParameter(Ljava/lang/Object;Ljava/lang/String;)V
@@ -704,7 +713,7 @@
 .end method
 
 .method public static final getEmoteUrl(Landroid/content/Context;Ljava/lang/String;)Ljava/lang/String;
-    .locals 1
+    .locals 2
 
     const-string v0, "context"
 
@@ -714,6 +723,14 @@
 
     invoke-static {p1, v0}, Lkotlin/jvm/internal/Intrinsics;->checkNotNullParameter(Ljava/lang/Object;Ljava/lang/String;)V
 
+    # BTTV
+    invoke-static {p1}, Lbttv/emote/EmoteUrlUtil;->getEmoteUrl(Ljava/lang/String;)Ljava/lang/String;
+    move-result-object v1
+    if-eqz v1, :dont_return
+    return-object v1
+    :dont_return
+    # /BTTV
+
     .line 73
     sget-object v0, Ltv/twitch/android/util/EmoteUrlUtil;->INSTANCE:Ltv/twitch/android/util/EmoteUrlUtil;
 
